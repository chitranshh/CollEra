<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - CollEra</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Space+Grotesk:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üéì</text></svg>">
</head>

<body>
    <!-- Animated Background -->
    <div class="animated-bg">
        <div class="gradient-orb orb-1"></div>
        <div class="gradient-orb orb-2"></div>
    </div>

    <!-- Dashboard Navigation -->
    <nav class="dashboard-nav">
        <div class="nav-container">
            <a href="/" class="logo">
                <span class="logo-icon">üéì</span>
                <span class="logo-text">Coll<span class="gradient-text">Era</span></span>
            </a>
            <div class="search-bar">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8" />
                    <path d="M21 21l-4.35-4.35" />
                </svg>
                <input type="text" id="searchInput" placeholder="Search students, colleges, skills..."
                    onkeyup="handleSearch(event)">
            </div>
            <div class="nav-actions">
                <button class="nav-icon-btn" onclick="showNotifications()">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" />
                        <path d="M13.73 21a2 2 0 0 1-3.46 0" />
                    </svg>
                    <span class="notification-badge" id="notificationBadge">0</span>
                </button>
                <div class="user-menu" onclick="toggleUserMenu()">
                    <div class="user-avatar-small" id="userAvatar">U</div>
                    <span id="userName">User</span>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M6 9l6 6 6-6" />
                    </svg>
                    <div class="user-dropdown" id="userDropdown">
                        <a href="#" class="dropdown-item"
                            onclick="event.preventDefault(); event.stopPropagation(); showMyAccount(); document.getElementById('userDropdown').classList.remove('active'); document.querySelector('.user-menu').classList.remove('active'); return false;">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                                <circle cx="12" cy="7" r="4" />
                            </svg>
                            <span>My Account</span>
                        </a>
                        <a href="#" class="dropdown-item"
                            onclick="event.preventDefault(); event.stopPropagation(); showEditProfile(); document.getElementById('userDropdown').classList.remove('active'); document.querySelector('.user-menu').classList.remove('active'); return false;">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" />
                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" />
                            </svg>
                            <span>Edit Profile</span>
                        </a>
                        <a href="#" class="dropdown-item" onclick="event.stopPropagation(); showHelpCenter()">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <circle cx="12" cy="12" r="10" />
                                <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" />
                                <line x1="12" y1="17" x2="12.01" y2="17" />
                            </svg>
                            <span>Help Center</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item danger" onclick="event.stopPropagation(); showDeleteAccount()">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <polyline points="3 6 5 6 21 6" />
                                <path
                                    d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
                                <line x1="10" y1="11" x2="10" y2="17" />
                                <line x1="14" y1="11" x2="14" y2="17" />
                            </svg>
                            <span>Delete Account</span>
                        </a>
                        <a href="#" class="dropdown-item logout" onclick="event.stopPropagation(); handleLogout()">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
                                <polyline points="16 17 21 12 16 7" />
                                <line x1="21" y1="12" x2="9" y2="12" />
                            </svg>
                            <span>Logout</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Dashboard Content -->
    <main class="dashboard-main">
        <div class="dashboard-container">
            <!-- Sidebar -->
            <aside class="dashboard-sidebar">
                <nav class="sidebar-nav">
                    <a href="#" class="sidebar-link active" data-tab="feed">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
                            <polyline points="9 22 9 12 15 12 15 22" />
                        </svg>
                        <span>Home Feed</span>
                    </a>
                    <a href="#" class="sidebar-link" data-tab="explore">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <circle cx="12" cy="12" r="10" />
                            <polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76" />
                        </svg>
                        <span>Explore</span>
                    </a>
                    <a href="#" class="sidebar-link" data-tab="colleges">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M22 10v6M2 10l10-5 10 5-10 5z" />
                            <path d="M6 12v5c3 3 9 3 12 0v-5" />
                        </svg>
                        <span>Colleges</span>
                    </a>
                    <a href="#" class="sidebar-link" data-tab="messages">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
                        </svg>
                        <span>Messages</span>
                        <span class="badge" id="messageBadge">0</span>
                    </a>
                    <a href="#" class="sidebar-link" data-tab="requests">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
                            <circle cx="8.5" cy="7" r="4" />
                            <line x1="20" y1="8" x2="20" y2="14" />
                            <line x1="23" y1="11" x2="17" y2="11" />
                        </svg>
                        <span>Requests</span>
                        <span class="badge" id="requestBadge">0</span>
                    </a>
                    <a href="#" class="sidebar-link" data-tab="notifications">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" />
                            <path d="M13.73 21a2 2 0 0 1-3.46 0" />
                        </svg>
                        <span>Notifications</span>
                        <span class="badge" id="notifBadge">0</span>
                    </a>
                </nav>
            </aside>

            <!-- Main Content Area -->
            <section class="dashboard-content">
                <!-- Feed Tab -->
                <div class="tab-content active" id="feedTab">
                    <div class="content-header">
                        <h1>Your Feed</h1>
                        <p>See what's happening in your college network</p>
                    </div>

                    <!-- Create Post -->
                    <div class="create-post-card">
                        <div class="create-post-header">
                            <div class="user-avatar-small" id="postUserAvatar">U</div>
                            <input type="text" class="create-post-input" placeholder="What's on your mind?"
                                onclick="openCreatePostModal()" readonly>
                        </div>
                        <div class="create-post-actions">
                            <button class="post-action-btn" onclick="openCreatePostModal()">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
                                    <circle cx="8.5" cy="8.5" r="1.5" />
                                    <polyline points="21 15 16 10 5 21" />
                                </svg>
                                <span>Photo</span>
                            </button>
                            <button class="post-action-btn" onclick="openCreatePostModal()">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                                    <polyline points="14 2 14 8 20 8" />
                                    <line x1="16" y1="13" x2="8" y2="13" />
                                    <line x1="16" y1="17" x2="8" y2="17" />
                                </svg>
                                <span>Article</span>
                            </button>
                        </div>
                    </div>

                    <!-- Posts Feed -->
                    <div class="posts-feed" id="postsFeed">
                        <div class="loading-spinner">
                            <div class="spinner"></div>
                            <p>Loading posts...</p>
                        </div>
                    </div>

                    <div class="load-more" id="loadMorePosts" style="display: none;">
                        <button class="btn btn-secondary" onclick="loadMorePosts()">Load More</button>
                    </div>
                </div>

                <!-- Explore Tab -->
                <div class="tab-content" id="exploreTab">
                    <div class="content-header">
                        <h1>Explore Students</h1>
                        <p>Find and connect with students from colleges across India</p>
                    </div>

                    <div class="explore-filters">
                        <div class="filter-group">
                            <input type="text" class="filter-input" id="exploreSearch"
                                placeholder="Search by name, college, or skills..."
                                onkeyup="handleExploreSearch(event)">
                        </div>
                        <div class="filter-tags">
                            <button class="filter-tag active" data-filter="all" onclick="filterUsers('all')">All
                                Students</button>
                            <button class="filter-tag" data-filter="same-college"
                                onclick="filterUsers('same-college')">Same College</button>
                            <button class="filter-tag" data-filter="nearby" onclick="filterUsers('nearby')">Nearby
                                Colleges</button>
                        </div>
                    </div>

                    <div class="users-grid" id="usersGrid">
                        <!-- User cards will be loaded here -->
                        <div class="loading-spinner">
                            <div class="spinner"></div>
                            <p>Loading students...</p>
                        </div>
                    </div>

                    <div class="load-more" id="loadMore" style="display: none;">
                        <button class="btn btn-secondary" onclick="loadMoreUsers()">Load More</button>
                    </div>
                </div>

                <!-- Requests Tab -->
                <div class="tab-content" id="requestsTab">
                    <div class="content-header">
                        <h1>Connection Requests</h1>
                        <p>Manage your connection requests</p>
                    </div>

                    <div class="requests-section">
                        <h3>Received Requests</h3>
                        <div class="requests-grid" id="receivedRequests">
                            <div class="empty-state">
                                <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="1">
                                    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
                                    <circle cx="8.5" cy="7" r="4" />
                                    <line x1="20" y1="8" x2="20" y2="14" />
                                    <line x1="23" y1="11" x2="17" y2="11" />
                                </svg>
                                <h3>No pending requests</h3>
                                <p>When students want to connect with you, you'll see them here</p>
                            </div>
                        </div>
                    </div>

                    <div class="requests-section">
                        <h3>Sent Requests</h3>
                        <div class="requests-grid" id="sentRequests">
                            <div class="empty-state">
                                <p>No sent requests</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Notifications Tab -->
                <div class="tab-content" id="notificationsTab">
                    <div class="content-header">
                        <h1>Notifications</h1>
                        <p>Stay updated with your network activity</p>
                    </div>

                    <div class="notifications-list" id="notificationsList">
                        <div class="empty-state">
                            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="1">
                                <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" />
                                <path d="M13.73 21a2 2 0 0 1-3.46 0" />
                            </svg>
                            <h3>No notifications yet</h3>
                            <p>When someone likes your post or sends a request, you'll see it here</p>
                        </div>
                    </div>
                </div>

                <!-- Colleges Tab -->
                <div class="tab-content" id="collegesTab">
                    <div class="content-header">
                        <h1>Top Colleges in India</h1>
                        <p>NIRF Rankings 2025 - Explore the best institutions across India</p>
                    </div>

                    <div class="colleges-filters">
                        <div class="filter-group">
                            <input type="text" class="filter-input" id="collegeSearch"
                                placeholder="Search colleges by name, location, or type..."
                                onkeyup="handleCollegeSearch(event)">
                        </div>
                        <div class="filter-tags">
                            <button class="filter-tag active" data-college-filter="all"
                                onclick="filterColleges('all')">All</button>
                            <button class="filter-tag" data-college-filter="overall"
                                onclick="filterColleges('overall')">Overall</button>
                            <button class="filter-tag" data-college-filter="engineering"
                                onclick="filterColleges('engineering')">Engineering</button>
                            <button class="filter-tag" data-college-filter="management"
                                onclick="filterColleges('management')">Management</button>
                            <button class="filter-tag" data-college-filter="medical"
                                onclick="filterColleges('medical')">Medical</button>
                            <button class="filter-tag" data-college-filter="university"
                                onclick="filterColleges('university')">Universities</button>
                        </div>
                    </div>

                    <div class="colleges-grid" id="collegesGrid">
                        <!-- Colleges will be loaded here by JavaScript -->
                    </div>
                </div>

                <!-- Messages Tab -->
                <div class="tab-content" id="messagesTab">
                    <div class="content-header">
                        <h1>Messages</h1>
                        <p>Chat with your connections in real-time</p>
                    </div>

                    <div class="messages-container">
                        <!-- Conversations List -->
                        <div class="conversations-list" id="conversationsList">
                            <div class="conversations-header">
                                <h3>Conversations</h3>
                                <button class="btn btn-sm btn-primary" onclick="showNewMessageModal()">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <line x1="12" y1="5" x2="12" y2="19" />
                                        <line x1="5" y1="12" x2="19" y2="12" />
                                    </svg>
                                    New
                                </button>
                            </div>
                            <div class="conversations-search">
                                <input type="text" placeholder="Search conversations..." id="conversationSearch"
                                    onkeyup="filterConversations(event)">
                            </div>
                            <div class="conversations-items" id="conversationsItems">
                                <div class="empty-state small">
                                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="1">
                                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
                                    </svg>
                                    <p>No conversations yet</p>
                                    <span>Start chatting with your connections!</span>
                                </div>
                            </div>
                        </div>

                        <!-- Chat Area -->
                        <div class="chat-area" id="chatArea">
                            <div class="chat-placeholder">
                                <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="1">
                                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
                                </svg>
                                <h3>Select a conversation</h3>
                                <p>Choose a conversation from the list or start a new chat</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Right Sidebar - Suggestions -->
            <aside class="dashboard-right-sidebar">
                <div class="sidebar-card">
                    <h3>Suggested for You</h3>
                    <div class="suggestions-list" id="suggestionsList">
                        <div class="loading-spinner small">
                            <div class="spinner"></div>
                        </div>
                    </div>
                </div>

                <!-- Write College Review Card -->
                <div class="sidebar-card review-prompt-card">
                    <div class="review-prompt-header">
                        <span class="review-icon">‚≠ê</span>
                        <h3>Review Your College</h3>
                    </div>
                    <p>Share your experience and help future students make informed decisions.</p>
                    <button class="btn btn-primary btn-full" onclick="openMyCollegeReview()">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" />
                            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" />
                        </svg>
                        Write a Review
                    </button>
                </div>

                <div class="sidebar-card">
                    <h3>Your Stats</h3>
                    <div class="stats-list">
                        <div class="stat-item">
                            <span class="stat-value" id="connectionCount">0</span>
                            <span class="stat-label">Connections</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="profileViews">0</span>
                            <span class="stat-label">Profile Views</span>
                        </div>
                    </div>
                </div>
            </aside>
        </div>
    </main>

    <!-- Create Post Modal -->
    <div class="modal-overlay" id="postModalOverlay" onclick="closePostModal()">
        <div class="modal create-post-modal" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2>Create a Post</h2>
                <button class="modal-close" onclick="closePostModal()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18" />
                        <line x1="6" y1="6" x2="18" y2="18" />
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="post-author-info">
                    <div class="user-avatar-small" id="modalUserAvatar">U</div>
                    <div>
                        <span class="author-name" id="modalUserName">User</span>
                        <span class="author-college" id="modalUserCollege">College</span>
                    </div>
                </div>
                <textarea id="postContent" class="post-textarea" placeholder="What do you want to talk about?"
                    rows="6"></textarea>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closePostModal()">Cancel</button>
                <button class="btn btn-primary" onclick="submitPost()" id="submitPostBtn">Post</button>
            </div>
        </div>
    </div>

    <!-- College Review Modal -->
    <div class="modal-overlay" id="reviewModalOverlay" onclick="closeReviewModal()">
        <div class="modal review-modal" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2>Review Your College</h2>
                <button class="modal-close" onclick="closeReviewModal()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18" />
                        <line x1="6" y1="6" x2="18" y2="18" />
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <p class="review-college-name" id="reviewCollegeName"></p>

                <div class="rating-section">
                    <label>Overall Rating</label>
                    <div class="star-rating" id="overallRating">
                        <span class="star" data-value="1">‚òÖ</span>
                        <span class="star" data-value="2">‚òÖ</span>
                        <span class="star" data-value="3">‚òÖ</span>
                        <span class="star" data-value="4">‚òÖ</span>
                        <span class="star" data-value="5">‚òÖ</span>
                    </div>
                </div>

                <div class="specific-ratings">
                    <div class="rating-row">
                        <label>Academics</label>
                        <div class="star-rating small" data-category="academics">
                            <span class="star" data-value="1">‚òÖ</span>
                            <span class="star" data-value="2">‚òÖ</span>
                            <span class="star" data-value="3">‚òÖ</span>
                            <span class="star" data-value="4">‚òÖ</span>
                            <span class="star" data-value="5">‚òÖ</span>
                        </div>
                    </div>
                    <div class="rating-row">
                        <label>Faculty</label>
                        <div class="star-rating small" data-category="faculty">
                            <span class="star" data-value="1">‚òÖ</span>
                            <span class="star" data-value="2">‚òÖ</span>
                            <span class="star" data-value="3">‚òÖ</span>
                            <span class="star" data-value="4">‚òÖ</span>
                            <span class="star" data-value="5">‚òÖ</span>
                        </div>
                    </div>
                    <div class="rating-row">
                        <label>Infrastructure</label>
                        <div class="star-rating small" data-category="infrastructure">
                            <span class="star" data-value="1">‚òÖ</span>
                            <span class="star" data-value="2">‚òÖ</span>
                            <span class="star" data-value="3">‚òÖ</span>
                            <span class="star" data-value="4">‚òÖ</span>
                            <span class="star" data-value="5">‚òÖ</span>
                        </div>
                    </div>
                    <div class="rating-row">
                        <label>Placements</label>
                        <div class="star-rating small" data-category="placements">
                            <span class="star" data-value="1">‚òÖ</span>
                            <span class="star" data-value="2">‚òÖ</span>
                            <span class="star" data-value="3">‚òÖ</span>
                            <span class="star" data-value="4">‚òÖ</span>
                            <span class="star" data-value="5">‚òÖ</span>
                        </div>
                    </div>
                    <div class="rating-row">
                        <label>Campus Life</label>
                        <div class="star-rating small" data-category="campusLife">
                            <span class="star" data-value="1">‚òÖ</span>
                            <span class="star" data-value="2">‚òÖ</span>
                            <span class="star" data-value="3">‚òÖ</span>
                            <span class="star" data-value="4">‚òÖ</span>
                            <span class="star" data-value="5">‚òÖ</span>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="reviewTitle">Review Title</label>
                    <input type="text" id="reviewTitle" placeholder="Summarize your experience" maxlength="100">
                </div>

                <div class="form-group">
                    <label for="reviewContent">Your Review</label>
                    <textarea id="reviewContent"
                        placeholder="Share your experience about academics, faculty, placements, campus life..."
                        rows="5" maxlength="2000"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeReviewModal()">Cancel</button>
                <button class="btn btn-primary" onclick="submitReview()" id="submitReviewBtn">Submit Review</button>
            </div>
        </div>
    </div>

    <!-- College Details Modal -->
    <div class="modal-overlay" id="collegeDetailsOverlay" onclick="closeCollegeDetails()">
        <div class="modal college-details-modal" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2 id="collegeDetailsName">College Name</h2>
                <button class="modal-close" onclick="closeCollegeDetails()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18" />
                        <line x1="6" y1="6" x2="18" y2="18" />
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="college-details-header" id="collegeDetailsHeader">
                    <!-- College info loaded here -->
                </div>

                <!-- College Stats Section -->
                <div class="college-stats-section" id="collegeStatsSection">
                    <div class="college-stat-card">
                        <div class="stat-icon">üë•</div>
                        <div class="stat-value" id="collegeUserCount">0</div>
                        <div class="stat-label">Students</div>
                    </div>
                    <div class="college-stat-card">
                        <div class="stat-icon">üìù</div>
                        <div class="stat-value" id="collegePostCount">0</div>
                        <div class="stat-label">Posts</div>
                    </div>
                    <div class="college-stat-card">
                        <div class="stat-icon">‚≠ê</div>
                        <div class="stat-value" id="collegeReviewCount">0</div>
                        <div class="stat-label">Reviews</div>
                    </div>
                </div>

                <!-- College Tabs Navigation -->
                <div class="college-tabs">
                    <button class="college-tab active" data-college-tab="members" onclick="switchCollegeTab('members')">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
                            <circle cx="9" cy="7" r="4" />
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
                            <path d="M16 3.13a4 4 0 0 1 0 7.75" />
                        </svg>
                        Students
                    </button>
                    <button class="college-tab" data-college-tab="feed" onclick="switchCollegeTab('feed')">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z" />
                        </svg>
                        Feed
                    </button>
                    <button class="college-tab" data-college-tab="reviews" onclick="switchCollegeTab('reviews')">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <polygon
                                points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />
                        </svg>
                        Reviews
                    </button>
                </div>

                <!-- College Members Tab -->
                <div class="college-tab-content active" id="collegeMembersTab">
                    <div class="college-members-section" id="collegeMembersSection">
                        <div class="members-list" id="collegeMembersList">
                            <!-- Members loaded here -->
                        </div>
                        <button class="btn btn-secondary btn-sm load-more-members" id="loadMoreMembers"
                            style="display: none;" onclick="loadMoreCollegeMembers()">
                            Load More
                        </button>
                    </div>

                    <!-- College Tags Section -->
                    <div class="college-tags-section" id="collegeTagsSection">
                        <h3>Popular Skills</h3>
                        <div class="college-tags" id="collegeSkillsTags">
                            <!-- Skills tags loaded here -->
                        </div>
                    </div>
                </div>

                <!-- College Feed Tab -->
                <div class="college-tab-content" id="collegeFeedTab">
                    <div class="college-feed-section">
                        <div class="college-posts-list" id="collegePostsList">
                            <!-- Posts loaded here -->
                        </div>
                        <button class="btn btn-secondary btn-sm" id="loadMoreCollegePosts" style="display: none;"
                            onclick="loadMoreCollegePosts()">
                            Load More Posts
                        </button>
                    </div>
                </div>

                <!-- College Reviews Tab -->
                <div class="college-tab-content" id="collegeReviewsTab">
                    <div class="college-reviews-section">
                        <div class="reviews-header">
                            <h3>Student Reviews</h3>
                            <button class="btn btn-primary btn-sm" id="writeReviewBtn" onclick="openReviewModal()">Write
                                Review</button>
                        </div>
                        <div class="reviews-summary" id="reviewsSummary">
                            <!-- Reviews summary loaded here -->
                        </div>
                        <div class="reviews-list" id="reviewsList">
                            <!-- Reviews loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- New Message Modal -->
    <div class="modal-overlay" id="newMessageModalOverlay" onclick="closeNewMessageModal()">
        <div class="modal new-message-modal" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2>New Message</h2>
                <button class="modal-close" onclick="closeNewMessageModal()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18" />
                        <line x1="6" y1="6" x2="18" y2="18" />
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Select a connection to message</label>
                    <input type="text" id="connectionSearchInput" placeholder="Search connections..."
                        onkeyup="filterConnectionsForChat(event)">
                </div>
                <div class="connections-list-modal" id="connectionsListModal">
                    <!-- Connections will be listed here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Chat Window Template (used when chat is active) -->
    <template id="chatWindowTemplate">
        <div class="chat-window">
            <div class="chat-header">
                <div class="chat-header-info">
                    <div class="chat-avatar">
                        <span class="avatar-initials"></span>
                        <span class="online-dot"></span>
                    </div>
                    <div class="chat-user-info">
                        <span class="chat-user-name"></span>
                        <span class="chat-user-status"></span>
                    </div>
                </div>
                <div class="chat-header-actions">
                    <button class="icon-btn" onclick="viewChatProfile()">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                            <circle cx="12" cy="7" r="4" />
                        </svg>
                    </button>
                </div>
            </div>
            <div class="chat-messages" id="chatMessages">
                <!-- Messages will be rendered here -->
            </div>
            <div class="typing-indicator" id="typingIndicator" style="display: none;">
                <span class="typing-text"></span>
                <div class="typing-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
            <div class="chat-input-area">
                <input type="text" id="messageInput" placeholder="Type a message..."
                    onkeydown="handleMessageKeydown(event)">
                <button class="send-btn" onclick="sendMessage()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="22" y1="2" x2="11" y2="13" />
                        <polygon points="22 2 15 22 11 13 2 9 22 2" />
                    </svg>
                </button>
            </div>
        </div>
    </template>

    <!-- Socket.io Client -->
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script src="js/collegesData.js"></script>
    <script src="js/dashboard.js"></script>
</body>

</html>