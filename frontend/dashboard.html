<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - CollEra</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Space+Grotesk:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸŽ“</text></svg>">
</head>

<body>
    <!-- Animated Background -->
    <div class="animated-bg">
        <div class="gradient-orb orb-1"></div>
        <div class="gradient-orb orb-2"></div>
    </div>

    <!-- Dashboard Navigation -->
    <nav class="dashboard-nav">
        <div class="nav-container">
            <a href="/" class="logo">
                <span class="logo-icon">ðŸŽ“</span>
                <span class="logo-text">Coll<span class="gradient-text">Era</span></span>
            </a>
            <div class="search-bar">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8" />
                    <path d="M21 21l-4.35-4.35" />
                </svg>
                <input type="text" id="searchInput" placeholder="Search students, colleges, skills..."
                    onkeyup="handleSearch(event)">
            </div>
            <div class="nav-actions">
                <button class="nav-icon-btn" onclick="showNotifications()">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" />
                        <path d="M13.73 21a2 2 0 0 1-3.46 0" />
                    </svg>
                    <span class="notification-badge" id="notificationBadge">0</span>
                </button>
                <div class="user-menu" onclick="toggleUserMenu()">
                    <div class="user-avatar-small" id="userAvatar">U</div>
                    <span id="userName">User</span>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M6 9l6 6 6-6" />
                    </svg>
                </div>
                <div class="user-dropdown" id="userDropdown">
                    <a href="#" class="dropdown-item" onclick="showMyAccount()">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                            <circle cx="12" cy="7" r="4" />
                        </svg>
                        <span>My Account</span>
                    </a>
                    <a href="#" class="dropdown-item" onclick="showEditProfile()">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" />
                            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" />
                        </svg>
                        <span>Edit Profile</span>
                    </a>
                    <a href="#" class="dropdown-item" onclick="showHelpCenter()">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <circle cx="12" cy="12" r="10" />
                            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" />
                            <line x1="12" y1="17" x2="12.01" y2="17" />
                        </svg>
                        <span>Help Center</span>
                    </a>
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item danger" onclick="showDeleteAccount()">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <polyline points="3 6 5 6 21 6" />
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
                            <line x1="10" y1="11" x2="10" y2="17" />
                            <line x1="14" y1="11" x2="14" y2="17" />
                        </svg>
                        <span>Delete Account</span>
                    </a>
                    <a href="#" class="dropdown-item logout" onclick="handleLogout()">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
                            <polyline points="16 17 21 12 16 7" />
                            <line x1="21" y1="12" x2="9" y2="12" />
                        </svg>
                        <span>Logout</span>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Dashboard Content -->
    <main class="dashboard-main">
        <div class="dashboard-container">
            <!-- Sidebar -->
            <aside class="dashboard-sidebar">
                <nav class="sidebar-nav">
                    <a href="#" class="sidebar-link active" data-tab="feed">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
                            <polyline points="9 22 9 12 15 12 15 22" />
                        </svg>
                        <span>Home Feed</span>
                    </a>
                    <a href="#" class="sidebar-link" data-tab="explore">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <circle cx="12" cy="12" r="10" />
                            <polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76" />
                        </svg>
                        <span>Explore</span>
                    </a>
                    <a href="#" class="sidebar-link" data-tab="requests">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
                            <circle cx="8.5" cy="7" r="4" />
                            <line x1="20" y1="8" x2="20" y2="14" />
                            <line x1="23" y1="11" x2="17" y2="11" />
                        </svg>
                        <span>Requests</span>
                        <span class="badge" id="requestBadge">0</span>
                    </a>
                    <a href="#" class="sidebar-link" data-tab="notifications">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" />
                            <path d="M13.73 21a2 2 0 0 1-3.46 0" />
                        </svg>
                        <span>Notifications</span>
                        <span class="badge" id="notifBadge">0</span>
                    </a>
                </nav>
            </aside>

            <!-- Main Content Area -->
            <section class="dashboard-content">
                <!-- Feed Tab -->
                <div class="tab-content active" id="feedTab">
                    <div class="content-header">
                        <h1>Your Feed</h1>
                        <p>See what's happening in your college network</p>
                    </div>

                    <!-- Create Post -->
                    <div class="create-post-card">
                        <div class="create-post-header">
                            <div class="user-avatar-small" id="postUserAvatar">U</div>
                            <input type="text" class="create-post-input" placeholder="What's on your mind?"
                                onclick="openCreatePostModal()" readonly>
                        </div>
                        <div class="create-post-actions">
                            <button class="post-action-btn" onclick="openCreatePostModal()">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
                                    <circle cx="8.5" cy="8.5" r="1.5" />
                                    <polyline points="21 15 16 10 5 21" />
                                </svg>
                                <span>Photo</span>
                            </button>
                            <button class="post-action-btn" onclick="openCreatePostModal()">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                                    <polyline points="14 2 14 8 20 8" />
                                    <line x1="16" y1="13" x2="8" y2="13" />
                                    <line x1="16" y1="17" x2="8" y2="17" />
                                </svg>
                                <span>Article</span>
                            </button>
                        </div>
                    </div>

                    <!-- Posts Feed -->
                    <div class="posts-feed" id="postsFeed">
                        <div class="loading-spinner">
                            <div class="spinner"></div>
                            <p>Loading posts...</p>
                        </div>
                    </div>

                    <div class="load-more" id="loadMorePosts" style="display: none;">
                        <button class="btn btn-secondary" onclick="loadMorePosts()">Load More</button>
                    </div>
                </div>

                <!-- Explore Tab -->
                <div class="tab-content" id="exploreTab">
                    <div class="content-header">
                        <h1>Explore Students</h1>
                        <p>Find and connect with students from colleges across India</p>
                    </div>

                    <div class="explore-filters">
                        <div class="filter-group">
                            <input type="text" class="filter-input" id="exploreSearch"
                                placeholder="Search by name, college, or skills..."
                                onkeyup="handleExploreSearch(event)">
                        </div>
                        <div class="filter-tags">
                            <button class="filter-tag active" data-filter="all">All</button>
                            <button class="filter-tag" data-filter="same-college">Same College</button>
                        </div>
                    </div>

                    <div class="users-grid" id="usersGrid">
                        <!-- User cards will be loaded here -->
                        <div class="loading-spinner">
                            <div class="spinner"></div>
                            <p>Loading students...</p>
                        </div>
                    </div>

                    <div class="load-more" id="loadMore" style="display: none;">
                        <button class="btn btn-secondary" onclick="loadMoreUsers()">Load More</button>
                    </div>
                </div>

                <!-- Requests Tab -->
                <div class="tab-content" id="requestsTab">
                    <div class="content-header">
                        <h1>Connection Requests</h1>
                        <p>Manage your connection requests</p>
                    </div>

                    <div class="requests-section">
                        <h3>Received Requests</h3>
                        <div class="requests-grid" id="receivedRequests">
                            <div class="empty-state">
                                <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="1">
                                    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
                                    <circle cx="8.5" cy="7" r="4" />
                                    <line x1="20" y1="8" x2="20" y2="14" />
                                    <line x1="23" y1="11" x2="17" y2="11" />
                                </svg>
                                <h3>No pending requests</h3>
                                <p>When students want to connect with you, you'll see them here</p>
                            </div>
                        </div>
                    </div>

                    <div class="requests-section">
                        <h3>Sent Requests</h3>
                        <div class="requests-grid" id="sentRequests">
                            <div class="empty-state">
                                <p>No sent requests</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Notifications Tab -->
                <div class="tab-content" id="notificationsTab">
                    <div class="content-header">
                        <h1>Notifications</h1>
                        <p>Stay updated with your network activity</p>
                    </div>

                    <div class="notifications-list" id="notificationsList">
                        <div class="empty-state">
                            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="1">
                                <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" />
                                <path d="M13.73 21a2 2 0 0 1-3.46 0" />
                            </svg>
                            <h3>No notifications yet</h3>
                            <p>When someone likes your post or sends a request, you'll see it here</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Right Sidebar - Suggestions -->
            <aside class="dashboard-right-sidebar">
                <div class="sidebar-card">
                    <h3>Suggested for You</h3>
                    <div class="suggestions-list" id="suggestionsList">
                        <div class="loading-spinner small">
                            <div class="spinner"></div>
                        </div>
                    </div>
                </div>

                <div class="sidebar-card">
                    <h3>Your Stats</h3>
                    <div class="stats-list">
                        <div class="stat-item">
                            <span class="stat-value" id="connectionCount">0</span>
                            <span class="stat-label">Connections</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="profileViews">0</span>
                            <span class="stat-label">Profile Views</span>
                        </div>
                    </div>
                </div>
            </aside>
        </div>
    </main>

    <!-- Create Post Modal -->
    <div class="modal-overlay" id="postModalOverlay" onclick="closePostModal()">
        <div class="modal create-post-modal" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2>Create a Post</h2>
                <button class="modal-close" onclick="closePostModal()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18" />
                        <line x1="6" y1="6" x2="18" y2="18" />
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="post-author-info">
                    <div class="user-avatar-small" id="modalUserAvatar">U</div>
                    <div>
                        <span class="author-name" id="modalUserName">User</span>
                        <span class="author-college" id="modalUserCollege">College</span>
                    </div>
                </div>
                <textarea id="postContent" class="post-textarea" placeholder="What do you want to talk about?"
                    rows="6"></textarea>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closePostModal()">Cancel</button>
                <button class="btn btn-primary" onclick="submitPost()" id="submitPostBtn">Post</button>
            </div>
        </div>
    </div>

    <script src="js/dashboard.js"></script>
</body>

</html>